version: 2

# 说明：
# - VisionService/requirements.txt 使用了 PyTorch 的额外索引（--extra-index-url）
# - Dependabot 需要在 registries 中显式声明该索引，才能正确解析如 torch==2.7.1+cpu 这类版本
registries:
  pytorch:
    type: python-index
    url: https://download.pytorch.org/whl/cpu

updates:
  # Python (pip) - VisionService
  - package-ecosystem: "pip"
    directory: "/VisionService"
    schedule:
      interval: "weekly"
    registries:
      - pytorch
    # 如仍遇到解析问题，可暂时忽略特定包以避免失败（解除注释）
    # ignore:
    #   - dependency-name: "torch"
    #   - dependency-name: "torchvision"

  # Python (pip) - 仓库根目录（如果存在 requirements.txt）
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"

  # .NET (NuGet) - 让 Dependabot 更新 C# 项目依赖
  - package-ecosystem: "nuget"
    directory: "/.NET"
    schedule:
      interval: "weekly"
